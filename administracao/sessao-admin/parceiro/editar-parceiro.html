<style>
  /* ========== UPLOAD FOTO ========== */
  .upload-logo {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
  }

  .logo-preview {
    width: 120px;
    height: 120px;
    border-radius: 10px;
    object-fit: cover;
    border: 2px solid #ccc;
  }

  a.no-underline {
    text-decoration: none !important;
  }
</style>

<div class="container-fluid p-3">

  <!-- Cabeçalho -->
  <div class="row mb-2 align-items-center justify-content-between">
    <div class="col-auto">
      <h3>Editar parceiro - Helder Adão</h3>
    </div>
    <div class="col-auto d-flex gap-2">
      <button class="btn btn-dark shadow-sm">
        <a class="no-underline text-white" href="admin.html#/todos-parceiros">
          <i data-feather="users"></i> Todos os parceiros
        </a>
      </button>
    </div>
  </div>

  <!-- Formulário -->
  <div class="card flex-fill p-4 shadow-sm">
    <form action="processa_admin.php" method="post" enctype="multipart/form-data" class="row g-3 needs-validation"
      novalidate>

      <!-- Upload da Logo -->
      <div class="upload-logo">
        <img id="logoPreview" src="../assets/img/avatar/avatar.png" class="logo-preview" alt="Logo Preview">
        <input type="file" id="logoUpload" class="form-control w-50" accept="image/*" name="foto_admin">
      </div>

      <div class="col-md-6">
        <label for="name_user" class="form-label">Primeiro nome <span class="text-danger">*</span></label>
        <input type="text" minlength="3" maxlength="25" placeholder="Insira o primeiro nome" class="form-control"
          id="name_user" name="first_name" required>
        <div class="invalid-feedback">Qual é o primeiro nome?</div>
      </div>

      <div class="col-md-6">
        <label for="name_user_nickname" class="form-label">Segundo nome (opcional)</label>
        <input type="text" maxlength="25" placeholder="Insira o segundo nome" class="form-control"
          id="name_user_nickname" name="second_name">
      </div>

      <div class="col-md-6">
        <label for="tel_user" class="form-label">Número de Telefone (WhatsApp)</label>
        <input type="tel" maxlength="18" placeholder="Insira o número de telefone" class="form-control" id="tel_user"
          name="tel">
      </div>

      <div class="col-md-6">
        <label for="genero" class="form-label">Gênero</label>
        <select class="form-control" id="genero" name="genero">
          <option value="">Selecione...</option>
          <option>Masculino</option>
          <option>Feminino</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="tipo_parcerias" class="form-label">Categorias</label>
        <select class="form-control" id="tipo_parcerias" name="tipo_parcerias">
          <option value="">Selecione...</option>
          <option>Influencer / Criador de Conteúdo</option>
          <option>Gestor de Tráfego (Pago / Orgânico)</option>
          <option>Parceiro Comercial (promoções e acordos locais)</option>
          <option>Parceiro Corporativo / Institucional</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="data_mp" class="form-label">Data de Nascimento</label>
        <input type="date" name="data_mp" id="data_mp" class="form-control">
      </div>

      <div class="col-md-6">
        <label class="form-label">Status</label>
        <select class="form-control">
          <option>Ativo</option>
          <option>Inativo</option>
          <option>Bloquiado</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="email_employees" class="form-label">E-mail <span class="text-danger">*</span></label>
        <input type="email" maxlength="60" placeholder="usuario@exemplo.com" class="form-control" id="email_employees"
          name="email" required>
        <div class="invalid-feedback">Insira um e-mail válido!</div>
      </div>

      <div class="form-check col-md-12">
        <input class="form-check-input" type="checkbox" name="send_user_notification" id="send_user_notification"
          checked>
        <label class="form-check-label" for="send_user_notification">
          Enviar e-mail de boas-vindas ao novo parceiro
        </label>
      </div>

      <div class="col-12 text-left mt-4">
        <button class="btn btn-primary w-25" type="submit">Editar parceiro</button>
      </div>
    </form>
  </div>
</div>










<!-- ==================== SCRIPTS ==================== -->
<script>
  // Alternância de tema
  document.addEventListener("DOMContentLoaded", () => {
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    const savedTheme = localStorage.getItem("theme");
    const currentTheme = savedTheme || (prefersDark ? "dark-mode" : "light-mode");

    document.body.classList.add(currentTheme);
    updateThemeIcon(currentTheme);

    document.getElementById("themeToggle").addEventListener("click", () => {
      const isDark = document.body.classList.contains("dark-mode");
      document.body.classList.toggle("dark-mode", !isDark);
      document.body.classList.toggle("light-mode", isDark);
      const newTheme = isDark ? "light-mode" : "dark-mode";
      localStorage.setItem("theme", newTheme);
      updateThemeIcon(newTheme);
    });

    feather.replace();
  });

  function updateThemeIcon(theme) {
    const icon = document.querySelector("#themeToggle i");
    icon.dataset.feather = theme === "dark-mode" ? "sun" : "moon";
    feather.replace();
  }

  // Preview da imagem
  document.getElementById('logoUpload').addEventListener('change', function (event) {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = e => document.getElementById('logoPreview').src = e.target.result;
      reader.readAsDataURL(file);
    }
  });

  // Geração automática de senha
  function gerarSenha(tamanho = 12) {
    const caracteres = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#%&!";
    let senha = "";
    for (let i = 0; i < tamanho; i++) {
      senha += caracteres.charAt(Math.floor(Math.random() * caracteres.length));
    }
    return senha;
  }

  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("password").value = gerarSenha();
  });

  document.getElementById("btnRegenerate").addEventListener("click", () => {
    document.getElementById("password").value = gerarSenha();
  });

  // Validação do formulário
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>