<div class="container-fluid p-0">

  <!-- Cabe√ßalho -->
  <div class="row mb-3 align-items-center justify-content-between">
    <div class="col-auto">
      <h3 class="page-title">Detalhes do Log</h3>
    </div>
    <div class="col-auto d-flex gap-2">
               <button class="btn shadow-sm" onclick="window.history.back()">
            <i class="align-middle" data-feather="arrow-left">&nbsp;</i> Voltar
        </button>
     
    </div>
  </div>

  <!-- Card do Log -->
  <div class="card flex-fill shadow-sm mb-4">
    <div class="card-header gradient-header">
      <h5 class="card-title mb-0 text-light">Log #1023 - Pedido Entregue</h5>
    </div>
    <div class="card-body">
      <p><strong>Data:</strong> 01/11/2025 15:45</p>
      <p><strong>Usu√°rio:</strong> Jos√© Mbenga</p>
      <p><strong>Descri√ß√£o:</strong></p>
      <p>O pedido #5487 foi entregue ao cliente com sucesso. Nenhum problema relatado.</p>
    </div>
  </div>

  <!-- Adicionar Nota -->
  <div class="card flex-fill shadow-sm mb-4">
    <div class="card-header gradient-header">
      <h5 class="card-title mb-0 text-light">Adicionar Nota</h5>
    </div>
    <div class="card-body">
      <form action="adicionar_nota.php" method="post" class="row g-3 needs-validation" novalidate>
        <input type="hidden" name="id_log" value="1023"> <!-- ID do log -->

        <div class="col-12">
          <label for="nota" class="form-label">Nota</label>
          <textarea id="nota" name="nota" class="form-control" rows="3" placeholder="Escreva sua nota aqui..." required></textarea>
          <div class="invalid-feedback">Digite uma nota antes de enviar.</div>
        </div>

        <div class="col-12 text-left mt-3">
          <button type="submit" class="btn btn-primary w-25">Salvar Nota</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Tabela de Notas -->
  <div class="card flex-fill shadow-sm">
    <div class="card-header gradient-header">
      <h5 class="card-title mb-0 text-light">Notas Registradas</h5>
    </div>
    <div class="card-body table-responsive">
      <table id="datatables-column-search-select-inputs" class="table table-borderless my-0 w-100">
        <thead>
          <tr>
            <th>#</th>
            <th>Data</th>
            <th>Usu√°rio</th>
            <th>Nota</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>01/11/2025 16:00</td>
            <td>Administrador</td>
            <td>Pedido conferido e entregue corretamente.</td>
          </tr>
          <tr>
            <td>2</td>
            <td>01/11/2025 16:15</td>
            <td>Supervisor</td>
            <td>Cliente informou satisfa√ß√£o com a entrega.</td>
          </tr>
          <tr>
            <td>3</td>
            <td>01/11/2025 16:45</td>
            <td>Jos√© Mbenga</td>
            <td>Inclu√≠da observa√ß√£o sobre hor√°rio de entrega.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<!-- ========================= -->
<!-- üåô ESTILOS DOS TEMAS -->
<!-- ========================= -->
<style>
  :root {
    --bg-light: #ffffff;
    --text-light: #1a1a1a;
    --header-light: linear-gradient(120deg, #f0f0f0 70%, #d4d4d4 120%);
    --bg-dark: #121212;
    --text-dark: #eaeaea;
    --header-dark: linear-gradient(120deg, #161718 80%, #414345 120%);
  }

  body.light-mode { background-color: var(--bg-light); color: var(--text-light); }
  body.dark-mode { background-color: var(--bg-dark); color: var(--text-dark); }
  .gradient-header { background: var(--header-dark); }
  body.light-mode .gradient-header { background: var(--header-light); }
  .page-title { font-weight: 600; margin-bottom: 1rem; }
  .card { border-radius: 0.5rem; margin-bottom: 1.5rem; }
  textarea.form-control { resize: none; }
</style>

<!-- ========================= -->
<!-- üåô SCRIPT DO TEMA -->
<!-- ========================= -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    const savedTheme = localStorage.getItem("theme");
    const currentTheme = savedTheme || (prefersDark ? "dark-mode" : "light-mode");

    document.body.classList.add(currentTheme);
    updateThemeIcon(currentTheme);

    document.getElementById("themeToggle").addEventListener("click", () => {
      const isDark = document.body.classList.contains("dark-mode");
      document.body.classList.toggle("dark-mode", !isDark);
      document.body.classList.toggle("light-mode", isDark);

      const newTheme = isDark ? "light-mode" : "dark-mode";
      localStorage.setItem("theme", newTheme);
      updateThemeIcon(newTheme);
    });

    feather.replace(); // Ativa √≠cones
  });

  function updateThemeIcon(theme) {
    const icon = document.querySelector("#themeToggle i");
    icon.dataset.feather = theme === "dark-mode" ? "sun" : "moon";
    feather.replace();
  }
</script>
