<div class="container-fluid p-0">
  <div class="row mb-2 mb-xl-3">
    <div class="col-auto d-sm-block">
      <h3>Configura√ß√µes</h3>
    </div>
    <div class="col-auto ms-auto text-end mt-n1">
      <button class="btn shadow-sm" onclick="window.location.reload();" style="background-color: #000; color: white;">
        <i class="align-middle" data-feather="refresh-cw" id="refresh"></i>
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 col-xl-3">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title mb-0">Painel de Configura√ß√µes</h5>
        </div>
        <div class="list-group list-group-flush" role="tablist">

          <a class="list-group-item list-group-item-action active" data-bs-toggle="list" href="#seguranca" role="tab">
            Seguran√ßa
          </a>
          <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#sistema" role="tab">
            Sistema / Aplica√ß√£o
          </a>
          <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#chat" role="tab">
            WhatsApp e Email (Chat)
          </a>
          <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#notificacoes" role="tab">
            Notifica√ß√µes & Automa√ß√µes
          </a>

          <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#suporte" role="tab">
            Suporte e Manual do Utilizador
          </a>

          <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#contratos" role="tab">
            Contratos
          </a>
        </div>
      </div>
    </div>

    <div class="col-md-8 col-xl-9">
      <div class="tab-content">

        <!-- Seguran√ßa -->
        <div class="tab-pane fade show active" id="seguranca" role="tabpanel">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">Seguran√ßa da Conta</h5>
            </div>
            <div class="card-body">
              <form>
                <div class="mb-3">
                  <label class="form-label">Alterar Senha Atual</label>
                  <input type="password" class="form-control" placeholder="Senha atual">
                </div>
                <div class="mb-3">
                  <label class="form-label">Nova Senha</label>
                  <input type="password" class="form-control" placeholder="Nova senha">
                </div>
                <div class="mb-3">
                  <label class="form-label">Confirmar Nova Senha</label>
                  <input type="password" class="form-control" placeholder="Confirmar senha">
                </div>
                <button class="btn btn-dark">Atualizar Senha</button>
              </form>

              <hr>
              <h6 class="mt-4">Sess√µes Ativas</h6>
              <p class="text-muted small">Voc√™ est√° conectado nos seguintes dispositivos:</p>
              <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Chrome - Windows
                  <button class="btn btn-sm btn-outline-danger">Encerrar</button>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Safari - iPhone 13
                  <button class="btn btn-sm btn-outline-danger">Encerrar</button>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Sistema / Aplica√ß√£o -->
        <div class="tab-pane fade" id="sistema" role="tabpanel">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">Sistema e Aplica√ß√£o</h5>
            </div>
            <div class="card-body">
              <form>
                <div class="mb-3">
                  <label class="form-label">Nome do Sistema / Empresa</label>
                  <input type="text" class="form-control" value="Delivery HJ">
                </div>
                <div class="mb-3">
                  <label class="form-label">Taxa de Comiss√£o (%)</label>
                  <input type="number" class="form-control" placeholder="Ex: 15">
                </div>
                <div class="mb-3">
                  <label class="form-label">Dias de Pagamento</label>
                  <select class="form-select">
                    <option value="sexta">Sexta-feira</option>
                    <option value="s√°bado">S√°bado</option>
                    <option value="domingo">Domingo</option>
                  </select>
                </div>
                <button class="btn btn-dark">Guardar Altera√ß√µes</button>
              </form>
            </div>
          </div>
        </div>

        <!-- WhatsApp e Email (Chat) -->
        <div class="tab-pane fade" id="chat" role="tabpanel">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">Canais de Comunica√ß√£o</h5>
            </div>
            <div class="card-body">
              <form>
                <div class="mb-3">
                  <label class="form-label">N√∫mero WhatsApp Oficial</label>
                  <input type="text" class="form-control" placeholder="+244 999 000 000">
                </div>
                <div class="mb-3">
                  <label class="form-label">Link do Chat WhatsApp</label>
                  <input type="url" class="form-control" placeholder="https://wa.me/244999000000">
                </div>
                <div class="mb-3">
                  <label class="form-label">E-mail do Suporte</label>
                  <input type="email" class="form-control" placeholder="suporte@deliveryhj.com">
                </div>
                <button class="btn btn-dark">Salvar Configura√ß√µes</button>
              </form>
            </div>
          </div>
        </div>

        <!-- Notifica√ß√µes e Automa√ß√µes -->
        <div class="tab-pane fade" id="notificacoes" role="tabpanel">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">Notifica√ß√µes e Automa√ß√µes</h5>
            </div>
            <div class="card-body">
              <form>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="checkbox" id="alertaD√≠vida" checked>
                  <label class="form-check-label" for="alertaD√≠vida">
                    Enviar alerta autom√°tico quando restaurante n√£o pagar
                  </label>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="checkbox" id="lembreteEmail">
                  <label class="form-check-label" for="lembreteEmail">
                    Enviar lembrete de pagamento por e-mail
                  </label>
                </div>
                <div class="mb-3">
                  <label class="form-label">Tempo para enviar lembrete</label>
                  <select class="form-select">
                    <option>1 dia antes</option>
                    <option>3 dias antes</option>
                    <option>1 semana antes</option>
                  </select>
                </div>
                <button class="btn btn-dark">Atualizar Automa√ß√µes</button>
              </form>
            </div>
          </div>
        </div>

        <!-- Suporte e Ajuda -->
        <div class="card tab-pane fade overflow-auto" id="suporte" role="tabpanel" style="height: 530px;">

          <div>
            <div class="card-header">
              <h5 class="card-title mb-0">Suporte e Manual do Utilizador</h5>
            </div>

            <div class="card-body">

              <h4 class="mb-3">üìò Manual do Sistema Delivery HJ</h4>
              <p class="text-muted">
                Bem-vindo ao manual oficial do sistema <strong>Delivery HJ ‚Äì Administra√ß√£o</strong>.
                Aqui encontras explica√ß√µes detalhadas sobre todas as p√°ginas, funcionalidades e opera√ß√µes dispon√≠veis
                para administradores, supervisores e operadores.
              </p>

              <hr>

              <!-- =========================== MENU INTERNO =========================== -->
              <h5>üìë Sec√ß√µes do Manual</h5>

              <ul class="list-group mb-4">
                <li class="list-group-item"><a href="#m-visao-geral">1. Vis√£o Geral do Sistema</a></li>
                <li class="list-group-item"><a href="#m-dashboard">2. Dashboard Principal</a></li>
                <li class="list-group-item"><a href="#m-restaurantes">3. Gest√£o de Restaurantes</a></li>
                <li class="list-group-item"><a href="#m-pedidos">4. Gest√£o de Pedidos</a></li>
                <li class="list-group-item"><a href="#m-financeiro">5. M√≥dulo Financeiro</a></li>
                <li class="list-group-item"><a href="#m-utilizadores">6. Gest√£o de Utilizadores</a></li>
                <li class="list-group-item"><a href="#m-chat">7. Chat e Comunica√ß√£o</a></li>
                <li class="list-group-item"><a href="#m-config">8. Configura√ß√µes do Sistema</a></li>
                <li class="list-group-item"><a href="#m-suporte">9. Como Pedir Suporte</a></li>
              </ul>

              <hr>

              <!-- =========================== 1. VIS√ÉO GERAL =========================== -->
              <h4 id="m-visao-geral">1. Vis√£o Geral do Sistema</h4>
              <p>
                O painel administrativo do Delivery HJ permite controlar restaurantes, pedidos, pagamentos, utilizadores
                e todo o ecossistema da plataforma.
                Ele funciona com navega√ß√£o por <strong>sidebar</strong> e p√°ginas carregadas dinamicamente usando o
                sistema de rotas <code>#</code>.
              </p>

              <hr>

              <!-- =========================== 2. DASHBOARD =========================== -->
              <h4 id="m-dashboard">2. Dashboard Principal</h4>
              <p>O dashboard apresenta um resumo geral das opera√ß√µes:</p>

              <ul>
                <li><strong>Total de pedidos do dia</strong></li>
                <li><strong>Top 5 restaurantes</strong></li>
                <li><strong>Crescimento semanal/mensal</strong></li>
                <li><strong>Pedidos pendentes / conclu√≠dos</strong></li>
                <li><strong>Mapa de calor das zonas</strong></li>
                <li><strong>Status dos restaurantes</strong> ‚Äì online, offline, atrasado</li>
              </ul>

              <p>
                Os gr√°ficos s√£o atualizados automaticamente a partir dos dados enviados pela API interna.
              </p>

              <hr>

              <!-- =========================== 3. RESTAURANTES =========================== -->
              <h4 id="m-restaurantes">3. Gest√£o de Restaurantes</h4>
              <p>Nesta √°rea podem-se gerir todos os restaurantes parceiros:</p>

              <ul>
                <li>Registar novos restaurantes</li>
                <li>Ver documentos enviados (alvar√°, logotipo, etc.)</li>
                <li>Alterar estado (ativo, suspenso, pendente, atrasado)</li>
                <li>Acompanhar desempenho mensal</li>
                <li>Consultar hist√≥rico de pagamentos</li>
                <li>Avalia√ß√µes dos clientes</li>
              </ul>

              <p>
                Tamb√©m podes entrar no perfil de um restaurante para ver gr√°ficos
                detalhados de rendimento por semana, m√™s ou ano.
              </p>

              <hr>

              <!-- =========================== 4. PEDIDOS =========================== -->
              <h4 id="m-pedidos">4. Gest√£o de Pedidos</h4>
              <p>Permite acompanhar pedidos em tempo real:</p>

              <ul>
                <li>Ver todos os pedidos abertos, conclu√≠dos ou cancelados</li>
                <li>Filtro por data, restaurante ou estado</li>
                <li>Linha do tempo (timeline) do pedido</li>
                <li>Bot√£o para contactar restaurante</li>
                <li>Relat√≥rios de pedidos perdidos</li>
              </ul>

              <hr>

              <!-- =========================== 5. FINANCEIRO =========================== -->
              <h4 id="m-financeiro">5. M√≥dulo Financeiro</h4>
              <p>Respons√°vel por toda a gest√£o monet√°ria:</p>

              <h6>5.1 Pagamentos dos Restaurantes</h6>
              <ul>
                <li>Ver restaurantes pagos, atrasados e pendentes</li>
                <li>Validar comprovativos enviados</li>
                <li>Alertas autom√°ticos de atraso</li>
              </ul>

              <h6>5.2 Fatura√ß√£o</h6>
              <ul>
                <li>Gerar faturas autom√°ticas</li>
                <li>Consultar hist√≥rico por restaurante</li>
              </ul>

              <h6>5.3 Comiss√£o</h6>
              <ul>
                <li>Configurar percentuais por restaurante</li>
                <li>C√°lculo autom√°tico do valor devido</li>
              </ul>

              <hr>

              <!-- =========================== 6. UTILIZADORES =========================== -->
              <h4 id="m-utilizadores">6. Gest√£o de Utilizadores</h4>
              <p>Aqui administra-se acesso e permiss√µes:</p>

              <ul>
                <li>Super Admin</li>
                <li>Financeiro</li>
                <li>Suporte</li>
                <li>Operador de Restaurantes</li>
              </ul>

              <p>
                Cada utilizador tem permiss√µes diferentes conforme o papel.
              </p>

              <hr>

              <!-- =========================== 7. CHAT =========================== -->
              <h4 id="m-chat">7. WhatsApp, Email e Comunica√ß√£o</h4>
              <p>Inclui:</p>

              <ul>
                <li>N√∫mero oficial WhatsApp</li>
                <li>Link do WhatsApp API</li>
                <li>E-mail oficial do suporte</li>
                <li>Comunica√ß√£o direta com restaurantes</li>
              </ul>

              <hr>

              <!-- =========================== 8. CONFIG =========================== -->
              <h4 id="m-config">8. Configura√ß√µes do Sistema</h4>
              <p>Podes editar:</p>

              <ul>
                <li>Nome da empresa</li>
                <li>Taxa de comiss√£o</li>
                <li>Dias de pagamento</li>
                <li>Ativar / desativar automa√ß√µes</li>
                <li>Modo claro ou escuro</li>
              </ul>

              <hr>

              <!-- =========================== 9. SUPORTE =========================== -->
              <h4 id="m-suporte">9. Como Pedir Suporte</h4>

              <p>Se tiveres d√∫vidas, problemas ou sugest√µes:</p>

              <ul>
                <li>üì≤ Contacta via WhatsApp: <strong>+244 XXX XXX XXX</strong></li>
                <li>üìß Email oficial: <strong>suporte@deliveryhj.com</strong></li>
                <li>üîß Reportar erros diretamente no sistema</li>
              </ul>

              <p class="text-muted small">
                O suporte est√° dispon√≠vel das <strong>08h √†s 20h</strong>, de segunda a s√°bado.
              </p>

              <hr>

              <h5>Obrigado por usar o Delivery HJ!</h5>
              <p class="text-muted">Estamos sempre a melhorar para oferecer a melhor experi√™ncia poss√≠vel.</p>

            </div>
          </div>
        </div>

        <!-- contratos -->
        <div class="card tab-pane fade overflow-auto" id="contratos" role="tabpanel" style="height: 530px;">

          <div>
            <div class="card-header">
              <h5 class="card-title mb-0">Todos os Contratos</h5>
            </div>

            <div class="card-body">

              <div class="card card-dashboard p-3" id="cardFinancas" style="cursor: pointer;">
                <h4 class="d-flex align-items-center gap-2">
                  <i data-feather="file"></i>
                  Contato para os Administradores
                </h4>


                <!-- Bot√µes de a√ß√£o -->
                <div class="document-actions">
                  <a href="../sessao-admin/paginas/contratos/adminstradores/Exerc√≠cio de Portugol - Lista 03 (2).pdf" target="_blank"
                    class="btn btn-primary">
                    <i class="fas fa-eye"></i> Visualizar Completo
                  </a>

                  <a href="../sessao-admin/paginas/contratos/adminstradores/Exerc√≠cio de Portugol - Lista 03 (2).pdf" download="documento.pdf" class="btn btn-success">
                    <i class="fas fa-download"></i> Baixar PDF
                  </a>
                </div>
              </div>

              <div class="card card-dashboard p-3" id="cardFinancas" style="cursor: pointer;">
                <h4 class="d-flex align-items-center gap-2">
                  <i data-feather="file"></i>
                  Contato para os restaurantes
                </h4>
                <!-- Bot√µes de a√ß√£o -->
                <div class="document-actions">
                  <a href="../sessao-admin/paginas/contratos/restaurantes/Exerc√≠cio de Portugol - Lista 03 (2).pdf" target="_blank"
                    class="btn btn-primary">
                    <i class="fas fa-eye"></i> Visualizar Completo
                  </a>

                  <a href="../sessao-admin/paginas/contratos/restaurantes/Exerc√≠cio de Portugol - Lista 03 (2).pdf" download="documento.pdf" class="btn btn-success">
                    <i class="fas fa-download"></i> Baixar PDF
                  </a>
                </div>
              </div>

              <div class="card card-dashboard p-3" id="cardFinancas" style="cursor: pointer;">
                <h4 class="d-flex align-items-center gap-2">
                  <i data-feather="file"></i>
                  Contato para os Parceiros
                </h4>
                 <!-- Bot√µes de a√ß√£o -->
                <div class="document-actions">
                  <a href="../sessao-admin/paginas/contratos/parceiros/Exerc√≠cio de Portugol - Lista 03 (2).pdf" target="_blank"
                    class="btn btn-primary">
                    <i class="fas fa-eye"></i> Visualizar Completo
                  </a>

                  <a href="../sessao-admin/paginas/contratos/parceiros/Exerc√≠cio de Portugol - Lista 03 (2).pdf" download="documento.pdf" class="btn btn-success">
                    <i class="fas fa-download"></i> Baixar PDF
                  </a>
                </div>
              </div>


            </div>

          </div>

      

          <script>
            // Sistema de preview e download de documentos
            class DocumentViewer {
              constructor() {
                this.supportedFormats = {
                  pdf: ['application/pdf'],
                  image: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],
                  document: ['application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],
                  excel: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],
                  text: ['text/plain', 'text/html']
                };
              }

              // Gera preview baseado no tipo de arquivo
              generatePreview(fileUrl, fileName) {
                const extension = this.getFileExtension(fileName);
                const mimeType = this.getMimeType(extension);

                let previewHTML = '';

                switch (extension) {
                  case 'pdf':
                    previewHTML = this.generatePDFPreview(fileUrl);
                    break;
                  case 'jpg':
                  case 'jpeg':
                  case 'png':
                  case 'gif':
                  case 'webp':
                    previewHTML = this.generateImagePreview(fileUrl);
                    break;
                  case 'doc':
                  case 'docx':
                  case 'xls':
                  case 'xlsx':
                    previewHTML = this.generateOfficePreview(fileUrl);
                    break;
                  default:
                    previewHTML = this.generateGenericPreview(fileUrl, fileName);
                }

                return {
                  preview: previewHTML,
                  actions: this.generateActionButtons(fileUrl, fileName, mimeType)
                };
              }

              // Preview para PDF usando Google Docs Viewer
              generatePDFPreview(url) {
                return `
            <div class="pdf-preview">
                <iframe 
                    src="https://docs.google.com/viewer?url=${encodeURIComponent(url)}&embedded=true"
                    width="100%" 
                    height="500"
                    frameborder="0"
                    loading="lazy"
                    title="Visualizador de PDF">
                </iframe>
                <div class="pdf-info">
                    <p>üìÑ Documento PDF - Pode demorar alguns segundos para carregar</p>
                </div>
            </div>
        `;
              }

              // Preview para imagens
              generateImagePreview(url) {
                return `
            <div class="image-preview">
                <img src="${url}" 
                     alt="Preview da imagem" 
                     style="max-width: 100%; max-height: 500px; object-fit: contain;"
                     loading="lazy">
                <div class="image-zoom-controls">
                    <button class="btn-zoom-in" onclick="zoomImage(this, 'in')">+</button>
                    <button class="btn-zoom-out" onclick="zoomImage(this, 'out')">-</button>
                    <button class="btn-zoom-reset" onclick="zoomImage(this, 'reset')">‚ü≤</button>
                </div>
            </div>
        `;
              }

              // Preview para documentos do Office
              generateOfficePreview(url) {
                return `
            <div class="office-preview">
                <iframe 
                    src="https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(url)}"
                    width="100%" 
                    height="500"
                    frameborder="0"
                    title="Visualizador de Documento">
                </iframe>
                <div class="office-info">
                    <p>üìù Documento do Office - Visualiza√ß√£o online</p>
                </div>
            </div>
        `;
              }

              // Preview gen√©rico
              generateGenericPreview(url, fileName) {
                const icon = this.getFileIcon(fileName);
                return `
            <div class="generic-preview">
                <div class="file-icon">${icon}</div>
                <div class="file-info">
                    <h5>${fileName}</h5>
                    <p>Tipo de arquivo: ${this.getFileExtension(fileName).toUpperCase()}</p>
                    <p>Tamanho: <span class="file-size">Calculando...</span></p>
                </div>
            </div>
        `;
              }

              // Bot√µes de a√ß√£o
              generateActionButtons(url, fileName, mimeType) {
                return `
            <div class="document-actions">
                <a href="${url}" 
                   target="_blank" 
                   class="btn-view"
                   title="Abrir em nova aba">
                   <i class="fas fa-external-link-alt"></i> Abrir
                </a>
                
                <a href="${url}" 
                   download="${fileName}" 
                   class="btn-download"
                   title="Baixar arquivo">
                   <i class="fas fa-download"></i> Baixar
                </a>
                
                <button onclick="printDocument('${url}')" 
                        class="btn-print"
                        title="Imprimir documento">
                   <i class="fas fa-print"></i> Imprimir
                </button>
                
                <button onclick="shareDocument('${url}', '${fileName}')" 
                        class="btn-share"
                        title="Compartilhar">
                   <i class="fas fa-share-alt"></i> Compartilhar
                </button>
            </div>
        `;
              }

              // Utilit√°rios
              getFileExtension(filename) {
                return filename.split('.').pop().toLowerCase();
              }

              getMimeType(extension) {
                const mimeMap = {
                  'pdf': 'application/pdf',
                  'jpg': 'image/jpeg',
                  'jpeg': 'image/jpeg',
                  'png': 'image/png',
                  'gif': 'image/gif',
                  'doc': 'application/msword',
                  'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                  'xls': 'application/vnd.ms-excel',
                  'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                  'txt': 'text/plain',
                  'zip': 'application/zip'
                };
                return mimeMap[extension] || 'application/octet-stream';
              }

              getFileIcon(filename) {
                const ext = this.getFileExtension(filename);
                const icons = {
                  'pdf': 'üìÑ',
                  'doc': 'üìù', 'docx': 'üìù',
                  'xls': 'üìä', 'xlsx': 'üìä',
                  'jpg': 'üñºÔ∏è', 'jpeg': 'üñºÔ∏è', 'png': 'üñºÔ∏è', 'gif': 'üñºÔ∏è',
                  'zip': 'üóúÔ∏è', 'rar': 'üóúÔ∏è',
                  'mp3': 'üéµ', 'mp4': 'üé¨',
                  'txt': 'üìÉ'
                };
                return icons[ext] || 'üìÅ';
              }
            }

            // Inicializa√ß√£o autom√°tica
            document.addEventListener('DOMContentLoaded', function () {
              const viewer = new DocumentViewer();

              // Detecta links para documentos e adiciona preview
              document.querySelectorAll('a[href*="."]').forEach(link => {
                const href = link.getAttribute('href');
                const fileName = href.split('/').pop();

                // Verifica se √© um arquivo (tem extens√£o)
                if (fileName.includes('.') && !href.includes('#')) {
                  const extension = fileName.split('.').pop().toLowerCase();
                  const documentExtensions = ['pdf', 'doc', 'docx', 'xls', 'xlsx', 'jpg', 'jpeg', 'png', 'gif', 'txt'];

                  if (documentExtensions.includes(extension)) {
                    link.classList.add('document-link');
                    link.setAttribute('data-document-url', href);
                    link.setAttribute('data-document-name', fileName);

                    // Adiciona √≠cone
                    if (!link.querySelector('.document-icon')) {
                      const icon = viewer.getFileIcon(fileName);
                      link.innerHTML = `${icon} ${link.innerHTML}`;
                    }

                    // Previne clique padr√£o para abrir o preview
                    link.addEventListener('click', function (e) {
                      if (!e.ctrlKey && !e.metaKey) {
                        e.preventDefault();
                        showDocumentPreview(this);
                      }
                    });
                  }
                }
              });

              // Fun√ß√£o para mostrar preview
              function showDocumentPreview(link) {
                const url = link.getAttribute('data-document-url');
                const fileName = link.getAttribute('data-document-name');

                const preview = viewer.generatePreview(url, fileName);

                // Cria modal de preview
                const modalHTML = `
            <div class="document-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5>${fileName}</h5>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${preview.preview}
                    </div>
                    <div class="modal-footer">
                        ${preview.actions}
                    </div>
                </div>
            </div>
        `;

                // Adiciona ao DOM
                const modalContainer = document.createElement('div');
                modalContainer.innerHTML = modalHTML;
                document.body.appendChild(modalContainer);

                // Adiciona eventos
                modalContainer.querySelector('.close-modal').addEventListener('click', () => {
                  document.body.removeChild(modalContainer);
                });

                // Fecha ao clicar fora
                modalContainer.querySelector('.document-modal').addEventListener('click', (e) => {
                  if (e.target.classList.contains('document-modal')) {
                    document.body.removeChild(modalContainer);
                  }
                });
              }

              // Fun√ß√µes auxiliares globais
              window.zoomImage = function (btn, action) {
                const img = btn.closest('.image-preview').querySelector('img');
                let currentZoom = parseFloat(img.style.transform.replace('scale(', '').replace(')', '')) || 1;

                if (action === 'in') currentZoom += 0.1;
                else if (action === 'out') currentZoom = Math.max(0.1, currentZoom - 0.1);
                else if (action === 'reset') currentZoom = 1;

                img.style.transform = `scale(${currentZoom})`;
                img.style.transformOrigin = 'center center';
              };

              window.printDocument = function (url) {
                const printWindow = window.open(url, '_blank');
                printWindow.onload = function () {
                  printWindow.print();
                };
              };

              window.shareDocument = function (url, fileName) {
                if (navigator.share) {
                  navigator.share({
                    title: fileName,
                    text: 'Confira este documento:',
                    url: url
                  });
                } else {
                  // Fallback para copiar link
                  navigator.clipboard.writeText(url).then(() => {
                    alert('Link copiado para a √°rea de transfer√™ncia!');
                  });
                }
              };
            });

            // CSS necess√°rio
            const documentStyles = `
    <style>
        .document-link {
            cursor: pointer;
            text-decoration: none;
            color: #0066cc;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        .document-link:hover {
            background: #f0f7ff;
            text-decoration: underline;
        }
        
        .document-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .modal-content {
            background: white;
            border-radius: 8px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow: auto;
        }
        
        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
        }
        
        .document-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .document-actions a, 
        .document-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .btn-view {
            background: #4a6cf7;
            color: white;
        }
        
        .btn-download {
            background: #28a745;
            color: white;
        }
        
        .btn-print {
            background: #17a2b8;
            color: white;
        }
        
        .btn-share {
            background: #6c757d;
            color: white;
        }
        
        .image-zoom-controls {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            border-radius: 4px;
            padding: 5px;
            display: flex;
            gap: 5px;
        }
        
        .image-zoom-controls button {
            background: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .generic-preview {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .file-icon {
            font-size: 60px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
    </style>
`;

            // Adiciona CSS ao documento
            document.head.insertAdjacentHTML('beforeend', documentStyles);
          </script>
        </div>



      </div>
    </div>
  </div>
</div>

<script>
  feather.replace();
</script>

<style>
  /* ========== BASE GERAL ========== */
  /* ========== BASE GERAL ========== */
  * {
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* ========== MODO ESCURO ========== */
  body.dark-mode {
    background-color: #121212 !important;
    color: #f1f1f1 !important;
  }

  body.dark-mode .card,
  body.dark-mode .list-group-item {
    background-color: #1e1e1e !important;
    color: #ffffff !important;
    border-color: #333 !important;
  }

  body.dark-mode .card-header {
    background-color: #232323 !important;
    color: #fff !important;
  }

  body.dark-mode h1,
  body.dark-mode h2,
  body.dark-mode h3,
  body.dark-mode h4,
  body.dark-mode h5,
  body.dark-mode h6,
  body.dark-mode p,
  body.dark-mode label,
  body.dark-mode span,
  body.dark-mode a,
  body.dark-mode strong,
  body.dark-mode small {
    color: #ffffff !important;
  }

  /* Inputs, selects e textareas */
  body.dark-mode input,
  body.dark-mode select,
  body.dark-mode textarea {
    background-color: #1a1a1a !important;
    color: #f9f9f9 !important;
    border: 1px solid #444 !important;
  }

  body.dark-mode input::placeholder,
  body.dark-mode textarea::placeholder {
    color: #bbb !important;
  }

  /* Quando o input estiver focado */
  body.dark-mode input:focus,
  body.dark-mode select:focus,
  body.dark-mode textarea:focus {
    background-color: #222 !important;
    border-color: #007bff !important;
    color: #fff !important;
  }

  /* Bot√µes no modo escuro */
  body.dark-mode .btn {
    background-color: #2a2a2a !important;
    color: #ffffff !important;
    border-color: #3a3a3a !important;
  }

  body.dark-mode .btn:hover,
  body.dark-mode .btn:focus {
    background-color: #007bff !important;
    color: #ffffff !important;
    border-color: #007bff !important;
  }

  /* List-group item ativo */
  body.dark-mode .list-group-item.active {
    background-color: #007bff !important;
    color: #fff !important;
    border-color: #007bff !important;
  }

  /* Switches */
  body.dark-mode .form-check-input:checked {
    background-color: #007bff !important;
    border-color: #007bff !important;
  }

  /* ========== MODO CLARO ========== */
  body.light-mode {
    background-color: #f9f9f9 !important;
    color: #222 !important;
  }

  body.light-mode .card,
  body.light-mode .list-group-item {
    background-color: #ffffff !important;
    color: #000000 !important;
    border-color: #ddd !important;
  }

  body.light-mode .card-header {
    background-color: #f2f2f2 !important;
    color: #000000 !important;
  }

  /* Inputs e selects no modo claro */
  body.light-mode input,
  body.light-mode select,
  body.light-mode textarea {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 1px solid #ccc !important;
  }

  body.light-mode input::placeholder,
  body.light-mode textarea::placeholder {
    color: #666 !important;
  }

  body.light-mode input:focus,
  body.light-mode select:focus,
  body.light-mode textarea:focus {
    background-color: #fff !important;
    border-color: #007bff !important;
    color: #000 !important;
  }

  /* Bot√µes no modo claro */
  body.light-mode .btn {
    background-color: #ffffff !important;
    color: #000000 !important;
    border-color: #ccc !important;
  }

  body.light-mode .btn:hover,
  body.light-mode .btn:focus {
    background-color: #007bff !important;
    color: #ffffff !important;
    border-color: #007bff !important;
  }

  /* List-group item ativo no modo claro */
  body.light-mode .list-group-item.active {
    background-color: #007bff !important;
    color: #fff !important;
    border-color: #007bff !important;
  }

  /* Switches */
  body.light-mode .form-check-input:checked {
    background-color: #007bff !important;
    border-color: #007bff !important;
  }
</style>